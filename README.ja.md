<p align="center">
  <img src="assets/icon.png" alt="CodeComfy icon" width="96" />
</p>

# CodeComfy：VS CodeからComfyUIを操作するためのツール

[![CI](https://github.com/mcp-tool-shop-org/codecomfy-vscode/actions/workflows/ci.yml/badge.svg)](https://github.com/mcp-tool-shop-org/codecomfy-vscode/actions/workflows/ci.yml)

リラックスして、指示を入力するだけで、あとはAIが処理してくれます。

ComfyUIを使って、エディターを離れることなく画像や動画を生成できます。
プリセットを選択し、プロンプトを入力するだけで、CodeComfyがワークフローの送信、状況の確認、フレームのダウンロード、そしてFFmpegによる結合処理を自動的に行います。

**Windowsを優先し、クロスプラットフォームにも対応。** Windows 10/11で完全に動作確認済みです。
macOSおよびLinuxでも動作する見込みですが、詳細は[既知の制限事項](#known-limitations)をご確認ください。
プルリクエストは大歓迎です。

---

## 前提条件

| 依存関係
依存
依存性 | 必須です。 | Notes |
| 承知いたしました。翻訳する文章をご提示ください。 | The company is committed to providing high-quality products and services.
(会社は、高品質な製品とサービスを提供することに尽力しています。)
---------- | Please provide the English text you would like me to translate. I am ready to translate it into Japanese. |
| **ComfyUI** | Yes | ローカル環境（http://127.0.0.1:8188）またはリモートマシン上で動作します。CodeComfyは、HTTP APIを介して通信を行います。 |
| **FFmpeg**  | 動画用。 | このソフトウェアを使用するには、FFmpegがシステムパスに登録されているか、`codecomfy.ffmpegPath`でFFmpegのパスが設定されている必要があります。 [FFmpegのダウンロード](https://ffmpeg.org/download.html) からダウンロードしてください。 |
| **NextGallery** | オプション。 | 関連ギャラリービューア。これは、画像生成自体には必須ではありません。 |

## 設置

CodeComfyは、現時点ではVS Codeマーケットプレイスには掲載されていません。
`.vsix`ファイルからインストールしてください。

1. 最新の`.vsix`ファイルを、[リリース](https://github.com/mcp-tool-shop-org/codecomfy-vscode/releases)ページからダウンロードしてください。
2. VS Codeで、**拡張機能**サイドバー → `···` メニュー → **VSIXファイルからインストール…** を選択します。
3. プロンプトが表示されたら、ウィンドウを再読み込みしてください。

### 設定

「設定」→「拡張機能」→「CodeComfy」を開くか、`settings.json`ファイルに以下のように追記してください。

```json
{
  "codecomfy.comfyuiUrl": "http://127.0.0.1:8188",
  "codecomfy.ffmpegPath": "",
  "codecomfy.autoOpenGalleryOnComplete": true,
  "codecomfy.nextGalleryPath": "",
  "codecomfy.defaultNegativePrompt": ""
}
```

| 設定。 | 説明 | デフォルト設定 |
| 以下に翻訳します。
---------
Please provide the English text you would like me to translate. | 以下に翻訳します。
-------------
申し訳ありませんが、翻訳するテキストが提供されていません。テキストを入力してください。 | ご依頼ありがとうございます。翻訳をご希望のテキストをご提供ください。 |
| `codecomfy.comfyuiUrl` | ComfyUIサーバーのURL。 | `http://127.0.0.1:8188` |
| `codecomfy.ffmpegPath` | FFmpeg実行ファイルの絶対パス（PATH環境変数で検索する場合は空白にしてください）。 | `""` |
| `codecomfy.autoOpenGalleryOnComplete` | 生成が完了したら、NextGalleryウィンドウを開きます。 | `true` |
| `codecomfy.nextGalleryPath` | NextGallery.exe への絶対パス。 | 自動検出 |
| `codecomfy.defaultNegativePrompt` | 生成時に、デフォルトでネガティブプロンプトが自動的に入力されます。 | `""` |

## クイックスタートガイド

1. **ComfyUIを起動する** — 正常に動作しており、アクセスできることを確認してください。
2. **コマンドを選択する** — コマンドパレットを開きます (`Ctrl+Shift+P`)。そして、以下のいずれかを選択します。
- `CodeComfy: Generate Image (HQ)` — 単一の画像を生成
- `CodeComfy: Generate Video (HQ)` — 短い動画（2～8秒）を生成
3. **プロンプトを入力する**。必要に応じて、**ネガティブプロンプト**（避けるべき要素）と、**シード値**を入力し、ステータスバーの表示を確認します。

(スクリーンショット：実際のPNG画像に置き換えてください。詳細は assets/SCREENSHOTS.md を参照。)

**ステータスバー**には、リアルタイムで処理状況が表示されます（キューイング中 → 生成中 → 完了）。

構造化されたログは、**CodeComfy** の出力チャンネルに表示されます。
（`Ctrl+Shift+U` を押して、"CodeComfy" を選択してください）。

出力ファイルは、ワークスペースのルートディレクトリ内の `.codecomfy/outputs/` フォルダに保存されます。
実行に関するメタデータは、`.codecomfy/runs/` フォルダに保存されます。

### キャンセル

コマンドパレットから「CodeComfy: 生成キャンセルの実行」を選択するか、生成処理が進行中の状態でステータスバーの項目をクリックしてください。

## 世代制限

ビデオ生成機能は、意図しないリソースの枯渇を防ぐために、安全制限を設けています。

| パラメータ | Min | Max |
| 承知いたしました。翻訳を開始します。
----------- |-----|-----|
| 期間
持続時間
継続時間
時間
期間中
持続
継続
持続性
持続力
持続可能
持続的な
持続性のある
持続可能性
持続可能性のある
持続可能な
持続可能な開発
持続可能な社会
持続可能な経済
持続可能な環境
持続可能なエネルギー
持続可能な農業
持続可能な観光
持続可能なライフスタイル
持続可能な消費
持続可能な生産
持続可能なサプライチェーン
持続可能なビジネス
持続可能な投資
持続可能な金融
持続可能な開発目標
持続可能な開発目標達成
持続可能な開発目標達成に向けた取り組み
持続可能な開発目標達成に向けた課題
持続可能な開発目標達成に向けた解決策
持続可能な開発目標達成に向けた国際協力
持続可能な開発目標達成に向けた国内取り組み
持続可能な開発目標達成に向けた企業活動
持続可能な開発目標達成に向けた市民社会の役割
持続可能な開発目標達成に向けた教育
持続可能な開発目標達成に向けた研究
持続可能な開発目標達成に向けた技術革新
持続可能な開発目標達成に向けた政策
持続可能な開発目標達成に向けた資金調達
持続可能な開発目標達成に向けた人材育成
持続可能な開発目標達成に向けた情報発信
持続可能な開発目標達成に向けたモニタリング
持続可能な開発目標達成に向けた評価
持続可能な開発目標達成に向けた報告
持続可能な開発目標達成に向けた国際的な枠組み
持続可能な開発目標達成に向けた国内的な枠組み
持続可能な開発目標達成に向けた企業内の方針
持続可能な開発目標達成に向けた市民社会の行動規範
持続可能な開発目標達成に向けた教育プログラム
持続可能な開発目標達成に向けた研究プロジェクト
持続可能な開発目標達成に向けた技術開発
持続可能な開発目標達成に向けた政策提言
持続可能な開発目標達成に向けた資金調達戦略
持続可能な開発目標達成に向けた人材育成計画
持続可能な開発目標達成に向けた情報発信活動
持続可能な開発目標達成に向けたモニタリング体制
持続可能な開発目標達成に向けた評価指標
持続可能な開発目標達成に向けた報告書
持続可能な開発目標達成に向けた国際的な連携
持続可能な開発目標達成に向けた国内的な連携
持続可能な開発目標達成に向けた企業間の連携
持続可能な開発目標達成に向けた市民社会と政府の連携
持続可能な開発目標達成に向けた教育機関と企業との連携
持続可能な開発目標達成に向けた研究機関と企業との連携
持続可能な開発目標達成に向けた技術開発と企業との連携
持続可能な開発目標達成に向けた政策と企業との連携
持続可能な開発目標達成に向けた資金調達と企業との連携
持続可能な開発目標達成に向けた人材育成と企業との連携
持続可能な開発目標達成に向けた情報発信と企業との連携
持続可能な開発目標達成に向けたモニタリングと企業との連携
持続可能な開発目標達成に向けた評価と企業との連携
持続可能な開発目標達成に向けた報告と企業との連携
持続可能な開発目標達成に向けた国際的なパートナーシップ
持続可能な開発目標達成に向けた国内的なパートナーシップ
持続可能な開発目標達成に向けた企業間のパートナーシップ
持続可能な開発目標達成に向けた市民社会と政府のパートナーシップ
持続可能な開発目標達成に向けた教育機関と企業とのパートナーシップ
持続可能な開発目標達成に向けた研究機関と企業とのパートナーシップ
持続可能な開発目標達成に向けた技術開発と企業とのパートナーシップ
持続可能な開発目標達成に向けた政策と企業とのパートナーシップ
持続可能な開発目標達成に向けた資金調達と企業とのパートナーシップ
持続可能な開発目標達成に向けた人材育成と企業とのパートナーシップ
持続可能な開発目標達成に向けた情報発信と企業とのパートナーシップ
持続可能な開発目標達成に向けたモニタリングと企業とのパートナーシップ
持続可能な開発目標達成に向けた評価と企業とのパートナーシップ
持続可能な開発目標達成に向けた報告と企業とのパートナーシップ
持続可能な開発目標達成に向けた国際的な協力体制
持続可能な開発目標達成に向けた国内的な協力体制
持続可能な開発目標達成に向けた企業間の協力体制
持続可能な開発目標達成に向けた市民社会と政府の協力体制
持続可能な開発目標達成に向けた教育機関と企業との協力体制
持続可能な開発目標達成に向けた研究機関と企業との協力体制
持続可能な開発目標達成に向けた技術開発と企業との協力体制
持続可能な開発目標達成に向けた政策と企業との協力体制
持続可能な開発目標達成に向けた資金調達と企業との協力体制
持続可能な開発目標達成に向けた人材育成と企業との協力体制
持続可能な開発目標達成に向けた情報発信と企業との協力体制
持続可能な開発目標達成に向けたモニタリングと企業との協力体制
持続可能な開発目標達成に向けた評価と企業との協力体制
持続可能な開発目標達成に向けた報告と企業との協力体制
持続可能な開発目標達成に向けた国際的な連携体制
持続可能な開発目標達成に向けた国内的な連携体制
持続可能な開発目標達成に向けた企業間の連携体制
持続可能な開発目標達成に向けた市民社会と政府の連携体制
持続可能な開発目標達成に向けた教育機関と企業との連携体制
持続可能な開発目標達成に向けた研究機関と企業との連携体制
持続可能な開発目標達成に向けた技術開発と企業との連携体制
持続可能な開発目標達成に向けた政策と企業との連携体制
持続可能な開発目標達成に向けた資金調達と企業との連携体制
持続可能な開発目標達成に向けた人材育成と企業との連携体制
持続可能な開発目標達成に向けた情報発信と企業との連携体制
持続可能な開発目標達成に向けたモニタリングと企業との連携体制
持続可能な開発目標達成に向けた評価と企業との連携体制
持続可能な開発目標達成に向けた報告と企業との連携体制
持続可能な開発目標達成に向けた国際的なパートナーシップ体制
持続可能な開発目標達成に向けた国内的なパートナーシップ体制
持続可能な開発目標達成に向けた企業間のパートナーシップ体制
持続可能な開発目標達成に向けた市民社会と政府のパートナーシップ体制
持続可能な開発目標達成に向けた教育機関と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた研究機関と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた技術開発と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた政策と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた資金調達と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた人材育成と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた情報発信と企業とのパートナーシップ体制
持続可能な開発目標達成に向けたモニタリングと企業とのパートナーシップ体制
持続可能な開発目標達成に向けた評価と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた報告と企業とのパートナーシップ体制
持続可能な開発目標達成に向けた国際的な協力体制の構築
持続可能な開発目標達成に向けた国内的な協力体制の構築
持続可能な開発目標達成に向けた企業間の協力体制の構築
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築
持続可能な開発目標達成に向けた技術開発と企業との winding up
持続可能な開発目標達成に向けた政策と企業との winding up
持続可能な開発目標達成に向けた資金調達と企業との winding up
持続可能な開発目標達成に向けた人材育成と企業との winding up
持続可能な開発目標達成に向けた情報発信と企業との winding up
持続可能な開発目標達成に向けたモニタリングと企業との winding up
持続可能な開発目標達成に向けた評価と企業との winding up
持続可能な開発目標達成に向けた報告と企業との winding up
持続可能な開発目標達成に向けた国際的な連携体制の強化
持続可能な開発目標達成に向けた国内的な連携体制の強化
持続可能な開発目標達成に向けた企業間の連携体制の強化
持続可能な開発目標達成に向けた市民社会と政府の連携体制の強化
持続可能な開発目標達成に向けた教育機関と企業との連携体制の強化
持続可能な開発目標達成に向けた研究機関と企業との連携体制の強化
持続可能な開発目標達成に向けた技術開発と企業との連携体制の強化
持続可能な開発目標達成に向けた政策と企業との連携体制の強化
持続可能な開発目標達成に向けた資金調達と企業との連携体制の強化
持続可能な開発目標達成に向けた人材育成と企業との連携体制の強化
持続可能な開発目標達成に向けた情報発信と企業との連携体制の強化
持続可能な開発目標達成に向けたモニタリングと企業との連携体制の強化
持続可能な開発目標達成に向けた評価と企業との連携体制の強化
持続可能な開発目標達成に向けた報告と企業との連携体制の強化
持続可能な開発目標達成に向けた国際的なパートナーシップ体制の推進
持続可能な開発目標達成に向けた国内的なパートナーシップ体制の推進
持続可能な開発目標達成に向けた企業間のパートナーシップ体制の推進
持続可能な開発目標達成に向けた市民社会と政府のパートナーシップ体制の推進
持続可能な開発目標達成に向けた教育機関と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた研究機関と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた技術開発と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた政策と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた資金調達と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた人材育成と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた情報発信と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けたモニタリングと企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた評価と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた報告と企業とのパートナーシップ体制の推進
持続可能な開発目標達成に向けた国際的な協力体制の強化と推進
持続可能な開発目標達成に向けた国内的な協力体制の強化と推進
持続可能な開発目標達成に向けた企業間の協力体制の強化と推進
持続可能な開発目標達成に向けた市民社会と政府の協力体制の強化と推進
持続可能な開発目標達成に向けた教育機関と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた研究機関と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた技術開発と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた政策と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた資金調達と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた人材育成と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた情報発信と企業との協力体制の強化と推進
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の強化と推進
持続可能な開発目標達成に向けた評価と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた報告と企業との協力体制の強化と推進
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化
持続可能な開発目標達成に向けた企業間の連携体制の構築と強化
持続可能な開発目標達成に向けた市民社会と政府の連携体制の構築と強化
持続可能な開発目標達成に向けた教育機関と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた研究機関と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた技術開発と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた政策と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた資金調達と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた人材育成と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた情報発信と企業との連携体制の構築と強化
持続可能な開発目標達成に向けたモニタリングと企業との連携体制の構築と強化
持続可能な開発目標達成に向けた評価と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた報告と企業との連携体制の構築と強化
持続可能な開発目標達成に向けた国際的なパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた国内的なパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた企業間のパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた市民社会と政府のパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた教育機関と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた研究機関と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた技術開発と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた政策と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた資金調達と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた人材育成と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた情報発信と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けたモニタリングと企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた評価と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた報告と企業とのパートナーシップ体制の構築と強化
持続可能な開発目標達成に向けた国際的な協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた国内的な協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた企業間の連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた市民社会と政府の連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた教育機関と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた研究機関と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた技術開発と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた政策と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた資金調達と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた人材育成と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた情報発信と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けたモニタリングと企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた評価と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた報告と企業との連携体制の構築と強化、そして推進、そして発展
持続可能な開発目標達成に向けた国際的なパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた国内的なパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた企業間のパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた市民社会と政府のパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた教育機関と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた研究機関と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた技術開発と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた政策と企業とのパートナーシップ体制の構築と強化、મિ そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた資金調達と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた人材育成と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた情報発信と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けたモニタリングと企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた評価と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた報告と企業とのパートナーシップ体制の構築と強化、そして推進、そして発展、そして持続
持続可能な開発目標達成に向けた国際的な協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた国内的な協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、 مۇ そして平和、そして調和
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた技術開発と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた政策と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた資金調達と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた人材育成と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた情報発信と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けたモニタリングと企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた評価と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた報告と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展
持続可能な開発目標達成に向けた国際的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成に向けた国内的な連携体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成に向けた企業間の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成に向けた市民社会と政府の協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成に向けた教育機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成に向けた研究機関と企業との協力体制の構築と強化、そして推進、そして発展、そして持続、そして未来、そして繁栄、そして平和、そして調和、そして共生、そして持続可能な発展、そして地球規模の課題解決
持続可能な開発目標達成பிள் | 1 s | 15 s |
| FPS       | 1   | 60   |
| 総フレーム数（再生時間 × フレームレート） | — | 450 |

制限に達した場合は、再生時間を短くするか、フレームレートが低いプリセットを選択してください。

## トラブルシューティング (問題解決)

### `[ネットワーク]` - ComfyUIサーバーに接続できません

- ComfyUIが起動していますか？ ブラウザで `http://127.0.0.1:8188/system_stats` にアクセスして確認してください。
- ComfyUIが別のポートやホストで実行されている場合は、`codecomfy.comfyuiUrl` の設定を更新してください。
- ファイアウォールやプロキシが接続をブロックしていませんか？ `curl http://127.0.0.1:8188/system_stats` を試してみてください。

### `[サーバー]` - ComfyUI からエラーが発生しました

- ComfyUIのターミナルまたはコンソールで、エラーメッセージ（スタックトレース）を確認してください。
- よくある原因：モデルのファイル（チェックポイント）が不足している、またはカスタムノードがインストールされていない。
- ComfyUIに、使用するプリセットワークフローに必要なノードがすべてインストールされていることを確認してください。

### `[API]` - レスポンスデータの形式エラー

- 使用しているComfyUIのバージョンが、同梱されているプリセットと互換性がない可能性があります（古すぎるか、新しすぎる場合）。
- リバースプロキシやCDNが、JSON形式の応答データを破損させている可能性があります。
- `/prompt` と `/history` に直接アクセスして、応答データの構造を確認してみてください。

### `[IO]` - ファイルのアクセス権限またはディスクに関する問題

- 作業フォルダが書き込み可能であることを確認してください。
- 利用可能なディスク容量を確認してください。特に動画の場合、フレームのダウンロードサイズが大きくなることがあります。
- Windows環境では、最高のパフォーマンスを得るために、ネットワークドライブ上の作業スペースの使用は避けてください。

### FFmpegが見つかりませんでした

- FFmpegをインストールし、`ffmpeg.exe`がシステムPATHに含まれていることを確認してください。
- または、`codecomfy.ffmpegPath`に**絶対パス全体**を設定してください（例：`C:\ffmpeg\bin\ffmpeg.exe`）。
- セキュリティ上の理由から、相対パスやファイル名のみの指定は許可されません。PATHに登録されている`ffmpeg`のみが有効です。

### 「すでに稼働中の世代」

一度に一つの処理しか実行できません。
現在の処理を中断するには、「CodeComfy: キャンセル」ボタンをクリックするか、完了するまでお待ちください。
連続した処理の間には、2秒のインターバルがあります。

### シード値/プロンプトの検証

- シード値は、0から2,147,483,647までの整数である必要があります。
- プロンプトは、空文字列ではなく、最大8,000文字以内で記述する必要があります。

## 既知の制限事項

| Area | 状態 |
| Please provide the English text you would like me to translate. I am ready to translate it into Japanese. | 以下に翻訳します。
-------- |
| **Windows** | (Windows 10/11で) 完全に動作確認済みです。主要な対応プラットフォームです。 |
| macOS | 画像と動画の生成に使用されることが予想されます。NextGalleryはまだ利用可能ではないかもしれません。 |
| **Linux** | 画像と動画の生成に使用されることが予想されます。NextGalleryはまだ利用可能ではないかもしれません。 |
| **Remote / WSL** | ComfyUIへのアクセスは、VS Codeを実行しているホストから可能である必要があります。 |

基本的な機能（プロンプト → ComfyUI → ダウンロード → FFmpeg 連携）は、プラットフォームに依存しません。Windowsに特有の機能は、NextGalleryの自動検出機能のみで、他のプラットフォームでは、設定画面でパスを指定するよう促すメッセージが表示されます。

もし、特定のプラットフォームで問題が発生した場合は、以下の情報（OS、VS Codeのバージョン、ComfyUIのバージョン）を記載して、[問題報告](https://github.com/mcp-tool-shop-org/codecomfy-vscode/issues)をしてください。

## 動作原理

```
Command Palette
   │
   ▼
extension.ts  ─── validates inputs, creates JobRouter
   │
   ▼
JobRouter     ─── creates run folder, tracks lifecycle
   │
   ▼
ComfyServerEngine ─── POST /prompt → poll /history → stream /view
   │
   ▼
FFmpeg        ─── (video only) assemble frames → MP4
   │
   ▼
.codecomfy/outputs/index.json  ─── atomic index update
```

## ライセンス

マサチューセッツ工科大学

<p align="center">
  <img src="assets/icon.png" alt="CodeComfy icon" width="96" />
</p>

# CodeComfy: वीएस कोड के माध्यम से ComfyUI का उपयोग।

[![CI](https://github.com/mcp-tool-shop-org/codecomfy-vscode/actions/workflows/ci.yml/badge.svg)](https://github.com/mcp-tool-shop-org/codecomfy-vscode/actions/workflows/ci.yml)

(यह एक निरंतर एकीकरण (Continuous Integration) बैज है, जो दर्शाता है कि कोड की स्वचालित जांच चल रही है।)

*आराम से बैठें, एक निर्देश टाइप करें, और बाकी काम सोफे को करने दें।*

ComfyUI के साथ छवियों और वीडियो को बनाएं, बिना अपने एडिटर को छोड़े।
एक प्रीसेट चुनें, एक प्रॉम्प्ट टाइप करें, और स्टेटस बार पर नज़र रखें, जबकि CodeComfy वर्कफ़्लो सबमिशन, डेटा जांच, फ़्रेम डाउनलोड और FFmpeg असेंबली जैसे कार्यों को संभालता है।

**विंडोज के लिए पहले, और अन्य प्लेटफॉर्म के साथ संगत।** विंडोज 10/11 पर पूरी तरह से परीक्षण किया गया।
यह उम्मीद है कि macOS और लिनक्स पर भी यह ठीक से काम करेगा - अधिक जानकारी के लिए [ज्ञात सीमाएं](#known-limitations) देखें।
योगदान (Pull Requests) का स्वागत है।

---

## आवश्यक शर्तें।

| निर्भरता। | आवश्यक। | Notes |
| कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। | ज़रूर, मैं आपकी मदद कर सकता हूँ। कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। | "The quick brown fox jumps over the lazy dog."

"यह फुर्तीला भूरा लोमड़ी आलसी कुत्ते के ऊपर से कूदता है।" |
| **ComfyUI** | Yes | इसे स्थानीय रूप से (`http://127.0.0.1:8188`) या किसी दूरस्थ मशीन पर चलाया जा सकता है। कोडकॉम्फी अपने एचटीटीपी एपीआई के माध्यम से संचार करता है। |
| **FFmpeg**  | वीडियो के लिए। | यह फ़ाइल आपके सिस्टम के 'पाथ' में होनी चाहिए *या* इसे `codecomfy.ffmpegPath` के माध्यम से कॉन्फ़िगर किया जाना चाहिए। [FFmpeg डाउनलोड करें](https://ffmpeg.org/download.html)। |
| **NextGallery** | वैकल्पिक। | "सहचर्य गैलरी दर्शक।" यह सुविधा पीढ़ी प्रक्रिया के लिए अनिवार्य नहीं है। |

## स्थापना।

CodeComfy अभी तक VS Code मार्केटप्लेस पर उपलब्ध नहीं है।
इसे `.vsix` फ़ाइल से इंस्टॉल करें:

1. नवीनतम `.vsix` फ़ाइल को यहां से डाउनलोड करें:
[रिलीज़](https://github.com/mcp-tool-shop-org/codecomfy-vscode/releases)।
2. वीएस कोड में: **एक्सटेंशन** साइडबार → `···` मेनू → **वीएसिक्स से इंस्टॉल करें…**
3. जब संकेत मिले, तो विंडो को पुनः लोड करें।

### सेटिंग्स

"सेटिंग्स" पर जाएं, फिर "एक्सटेंशन" चुनें, और वहां "कोडकॉम्फी" ढूंढें, या आप इसे `settings.json` फ़ाइल में भी जोड़ सकते हैं:

```json
{
  "codecomfy.comfyuiUrl": "http://127.0.0.1:8188",
  "codecomfy.ffmpegPath": "",
  "codecomfy.autoOpenGalleryOnComplete": true,
  "codecomfy.nextGalleryPath": "",
  "codecomfy.defaultNegativePrompt": ""
}
```

| स्थापना। | विवरण। | डिफ़ॉल्ट। |
| ज़रूर, मैं आपकी मदद कर सकता हूँ। कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। | कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। मैं उसका सटीक और उचित अनुवाद करने के लिए तैयार हूं। | ज़रूर, मैं आपकी मदद कर सकता हूँ। कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। |
| `codecomfy.comfyuiUrl` | कम्फयूआई सर्वर का यूआरएल (URL)। | `http://127.0.0.1:8188` |
| `codecomfy.ffmpegPath` | FFmpeg निष्पादन योग्य फ़ाइल का पूर्ण पथ (यदि PATH में उपलब्ध है तो इसे खाली छोड़ दें)। | `""` |
| `codecomfy.autoOpenGalleryOnComplete` | जेनरेट होने की प्रक्रिया पूरी होने के बाद "नेक्स्ट गैलरी" (NextGallery) को खोलें। | `true` |
| `codecomfy.nextGalleryPath` | NextGallery.exe फ़ाइल का पूर्ण पथ। | स्वचालित रूप से पहचानें। |
| `codecomfy.defaultNegativePrompt` | उत्पादन के दौरान, नकारात्मक संकेत (negative prompt) स्वचालित रूप से पहले से ही भर दिए जाते हैं। | `""` |

## शुरुआत कैसे करें।

1. **ComfyUI शुरू करें** — सुनिश्चित करें कि यह चल रहा है और आप इसे एक्सेस कर सकते हैं।
2. **एक कमांड चुनें** — कमांड पैलेट खोलें (`Ctrl+Shift+P`) और निम्नलिखित में से चुनें:
- `CodeComfy: Generate Image (HQ)` — एक छवि बनाएं
- `CodeComfy: Generate Video (HQ)` — एक छोटा वीडियो (2–8 सेकंड) बनाएं
3. **एक संकेत (प्रॉम्प्ट) दर्ज करें**, वैकल्पिक रूप से एक **नकारात्मक संकेत** (उन चीजों से बचें जिन्हें आप नहीं चाहते), और एक **सीड** (seed) दर्ज करें, फिर स्टेटस बार पर नज़र रखें।

<!-- स्क्रीनशॉट: वास्तविक पीएनजी छवियों से बदलें - विवरण के लिए assets/SCREENSHOTS.md देखें -->

"स्टेटस बार" वास्तविक समय में प्रगति प्रदर्शित करता है (जैसे: कतार में → उत्पन्न हो रहा है → पूर्ण)।

संरचित लॉग (स्ट्रक्चर्ड लॉग) **कोडकॉम्फी** के आउटपुट चैनल में दिखाई देते हैं।
(इसके लिए `Ctrl+Shift+U` दबाएं, और फिर "कोडकॉम्फी" चुनें)।

आउटपुट फ़ाइलें आपके कार्यक्षेत्र के रूट फ़ोल्डर में `.codecomfy/outputs/` नामक फ़ोल्डर में सहेजी जाती हैं।
"रन" से संबंधित जानकारी `.codecomfy/runs/` फ़ोल्डर में संग्रहीत होती है।

### रद्द करें।

"CodeComfy: जनरेशन रद्द करें" कमांड को कमांड पैलेट से चलाएं, या जब कोई जनरेशन चल रही हो, तो स्टेटस बार में दिए गए विकल्प पर क्लिक करें।

## पीढ़ीगत सीमाएं।

वीडियो निर्माण प्रक्रिया में सुरक्षा सीमाएं लागू की जाती हैं ताकि अनजाने में संसाधनों की अत्यधिक खपत को रोका जा सके।

| पैरामीटर। | Min | Max |
| कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। मैं उसका सटीक और उचित अनुवाद करने के लिए तैयार हूं। |-----|-----|
| अवधि। | 1 s | 15 s |
| FPS       | 1   | 60   |
| कुल फ्रेम (अवधि × फ्रेम प्रति सेकंड)। | — | 450 |

यदि आप किसी सीमा तक पहुँच जाते हैं, तो अवधि को कम करें या ऐसे विकल्प का चयन करें जिसमें फ्रेम रेट कम हो।

## समस्या निवारण।

### `[नेटवर्क]` — कॉमफीयूआई सर्वर तक पहुंच नहीं हो पा रही है।

- क्या ComfyUI चल रहा है? यह देखने के लिए कि यह चल रहा है या नहीं, किसी ब्राउज़र में `http://127.0.0.1:8188/system_stats` पर जाएं।
- यदि ComfyUI किसी अन्य पोर्ट या होस्ट पर चल रहा है, तो `codecomfy.comfyuiUrl` को अपडेट करें।
- क्या फ़ायरवॉल या प्रॉक्सी कनेक्शन को ब्लॉक कर रहा है? `curl http://127.0.0.1:8188/system_stats` कमांड का उपयोग करके देखें।

### `[सर्वर]` — कॉमफीयूआई ने एक त्रुटि प्रदर्शित की।

- "कॉम्फीयूआई" टर्मिनल/कंसोल में त्रुटि संदेशों (स्टैक ट्रेस) की जांच करें।
- सामान्य कारण: मॉडल फ़ाइल या कस्टम नोड का गायब होना।
- सुनिश्चित करें कि आपके "कॉम्फीयूआई" में उस प्रीसेट वर्कफ़्लो के लिए आवश्यक सभी नोड मौजूद हैं।

### `[एपीआई]` — प्रतिक्रिया (रिस्पांस) में संरचना संबंधी त्रुटि।

- आपके ComfyUI का संस्करण या तो बहुत पुराना हो सकता है या बंडल किए गए प्रीसेट के लिए बहुत नया।
- रिवर्स प्रॉक्सी या सीडीएन (CDN) जेएसओएन (JSON) प्रतिक्रियाओं को विकृत कर सकता है।
- प्रतिक्रिया के स्वरूप की जांच करने के लिए सीधे `/prompt` और `/history` पर जाकर देखें।

### `[IO]` - फ़ाइल की अनुमतियों या डिस्क से संबंधित समस्याएं।

- सुनिश्चित करें कि आपका कार्यक्षेत्र फ़ोल्डर लिखने योग्य है।
- उपलब्ध डिस्क स्थान की जांच करें - वीडियो के लिए फ़्रेम डाउनलोड बड़े हो सकते हैं।
- विंडोज पर, सर्वोत्तम प्रदर्शन के लिए नेटवर्क ड्राइव पर कार्यक्षेत्रों का उपयोग करने से बचें।

### FFmpeg नहीं मिला।

- FFmpeg को स्थापित करें और सुनिश्चित करें कि `ffmpeg.exe` आपके सिस्टम के PATH में मौजूद है।
- या `codecomfy.ffmpegPath` को **पूर्ण, निरपेक्ष पथ** पर सेट करें (उदाहरण के लिए, `C:\ffmpeg\bin\ffmpeg.exe`)।
- सुरक्षा कारणों से, सापेक्ष पथ और केवल फ़ाइल नाम (PATH में मौजूद `ffmpeg` के अलावा) स्वीकार नहीं किए जाएंगे।

### "यह पीढ़ी पहले से ही सक्रिय है।"

एक समय में केवल एक ही प्रक्रिया चल सकती है।
वर्तमान प्रक्रिया को रद्द करें ("CodeComfy: रद्द करें") या इसके पूरा होने का इंतजार करें।
लगातार चलने वाली प्रक्रियाओं के बीच 2 सेकंड का अंतराल होता है।

### बीज/प्रारंभिक जानकारी की पुष्टि।

- बीज (सीड्स) 0 और 2,147,483,647 के बीच की पूर्ण संख्याएं होनी चाहिए।
- संकेत (प्रॉम्प्ट्स) खाली नहीं होने चाहिए और इनकी अधिकतम लंबाई 8,000 अक्षर होनी चाहिए।

## ज्ञात सीमाएं।

| Area | स्थिति। |
| "The company is committed to providing high-quality products and services."

अनुवाद:

"कंपनी उच्च गुणवत्ता वाले उत्पाद और सेवाएं प्रदान करने के लिए प्रतिबद्ध है।" | ज़रूर, मैं आपकी मदद कर सकता हूँ। कृपया वह अंग्रेजी पाठ प्रदान करें जिसका आप हिंदी में अनुवाद करवाना चाहते हैं। |
| **Windows** | पूरी तरह से परीक्षण किया गया (विंडोज 10/11 पर)। मुख्य प्लेटफॉर्म। |
| **मैकओएस** | यह सुविधा छवियों और वीडियो बनाने के लिए डिज़ाइन की गई है। संभव है कि "नेक्स्ट गैलरी" अभी उपलब्ध न हो। |
| **Linux** | यह सुविधा छवियों और वीडियो बनाने के लिए डिज़ाइन की गई है। संभव है कि "नेक्स्ट गैलरी" अभी उपलब्ध न हो। |
| **Remote / WSL** | ComfyUI का यूआरएल, उस होस्ट से एक्सेस किया जा सकना चाहिए जिस पर वीएस कोड चल रहा है। |

मुख्य कार्यक्षमता (प्रॉम्प्ट → कॉमफीयूआई → डाउनलोड → एफएफmpeg असेंबली) किसी भी ऑपरेटिंग सिस्टम पर काम करती है। विंडोज के लिए विशिष्ट एकमात्र सुविधा "नेक्स्ट गैलरी" का स्वचालित पता लगाना है, जो अन्य ऑपरेटिंग सिस्टम पर "सेटिंग में पथ निर्धारित करें" जैसे विकल्प पर वापस आ जाता है।

यदि आपको किसी विशेष ऑपरेटिंग सिस्टम से संबंधित कोई समस्या आती है, तो कृपया
[एक समस्या दर्ज करें](https://github.com/mcp-tool-shop-org/codecomfy-vscode/issues)
और उसमें अपने ऑपरेटिंग सिस्टम, वीएस कोड संस्करण और कॉमफीयूआई संस्करण की जानकारी दें।

## यह कैसे काम करता है।

```
Command Palette
   │
   ▼
extension.ts  ─── validates inputs, creates JobRouter
   │
   ▼
JobRouter     ─── creates run folder, tracks lifecycle
   │
   ▼
ComfyServerEngine ─── POST /prompt → poll /history → stream /view
   │
   ▼
FFmpeg        ─── (video only) assemble frames → MP4
   │
   ▼
.codecomfy/outputs/index.json  ─── atomic index update
```

## लाइसेंस।

एमआईटी (MIT)
